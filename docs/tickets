ROLE: Senior Engineer. Minimal Change.

TICKET-ID: PW-001
TITEL: Aufgaben vom Tag fehlen in AufgabenÃ¼bersicht
TYP: Bug
PRIORITÃ„T: P0

PROBLEM:
- Ist: Aufgaben, die heute erstellt werden, tauchen nicht in der AufgabenÃ¼bersicht auf.
- Soll: Neue Aufgaben mÃ¼ssen sofort in der AufgabenÃ¼bersicht erscheinen.
- Kontext: Aufgabenverwaltung / AufgabenÃ¼bersicht.

STATUS: ðŸ”´ OFFEN

ROOT CAUSE: aufgaben-content.jsx:77 verwendet toISOString().split('T')[0] â†’ UTC-Konvertierung verschiebt Datum.

SCOPE-FENCE:
- Erlaubt: aufgaben-content.jsx Zeile 77 Ã¤ndern
- Erlaubt: Lokale formatDate() Helper oder Import aus use-dashboard.js
- Verboten: Globale Date-Utils refactoren
- Verboten: Andere Komponenten Ã¤ndern

CHANGE-BUDGET: 1 Datei, max 10 Zeilen.

VORGEHEN:
1) Ursache nennen.
2) Minimal Patch vorschlagen.
3) Patch implementieren als kleinen Diff.
4) Manuelle Tests (mind 4 Schritte).
5) Optional 1 kleiner Test.

AKZEPTANZ:
- Neue Aufgabe erscheint direkt ohne Reload.
- Filter Datum Heute zeigt sie zuverlÃ¤ssig.
- Keine Ã„nderung am Verhalten fÃ¼r andere Tage.






ROLE: Senior Engineer. Minimal Change.

TICKET-ID: PW-002
TITEL: Lernblock Aufgaben werden nicht in To Do/Verwaltung gelistet
TYP: Bug
PRIORITÃ„T: P0

PROBLEM:
- Ist: Aufgabe im Lernblock erstellt erscheint weder links in To Do noch unter Verwaltung AufgabenÃ¼bersicht.
- Soll: Lernblock Aufgaben werden wie normale Aufgaben synchron in allen Listen angezeigt.
- Kontext: Lernblock Editor -> Task Aggregation.

STATUS: ðŸ”´ OFFEN

ROOT CAUSE: Block-Tasks in block.tasks[] (calendar_blocks), Dashboard liest nur tasksByDate (calendar_tasks). Zwei isolierte Systeme.

SCOPE-FENCE:
- Erlaubt: Dashboard/Verwaltung Tasks aus blocksByDate aggregieren (read-side fix)
- Erlaubt: use-dashboard.js und aufgaben-content.jsx erweitern
- Verboten: Block-Task-Erstellung Ã¤ndern
- Verboten: Neues Sync-System einfÃ¼hren
- Verboten: calendar_tasks Tabelle fÃ¼r Block-Tasks nutzen

CHANGE-BUDGET: 2 Dateien, max 50 Zeilen.

VORGEHEN: Ursache, minimaler Patch, Diff, Tests, optional Test.

AKZEPTANZ:
- Lernblock Aufgabe erscheint sofort in To Do.
- Lernblock Aufgabe erscheint unter Verwaltung.
- Keine Duplikate, keine falschen FÃ¤lligkeiten.






ROLE: Senior Engineer. Minimal Change.

TICKET-ID: PW-003
TITEL: Navigation/VerknÃ¼pfung Monat Woche Tagesansicht inkonsistent
TYP: Bug
PRIORITÃ„T: P1

PROBLEM:
- Ist: VerknÃ¼pfung zwischen Monat, Wochen, Tagesansicht ist fehlerhaft oder springt falsch.
- Soll: Wechsel zwischen Ansichten behÃ¤lt das ausgewÃ¤hlte Datum konsistent bei.
- Kontext: Kalender.

SCOPE-FENCE:
- Erlaubt: Kalender Navigation Code. Max 3 Dateien.
- Verboten: Kein UI Redesign, kein Refactor, keine neuen Dependencies.

CHANGE-BUDGET: Max 3 Dateien, max 120 Zeilen.

VORGEHEN:
1) Repro Schritte nennen.
2) Ursache und minimal Fix.
3) Diff.
4) Manuelle Tests.

AKZEPTANZ:
- Datum bleibt beim Wechsel konsistent.
- ZurÃ¼ck Navigation fÃ¼hrt zum erwarteten Datum.








ROLE: Senior Engineer. Minimal Change.

TICKET-ID: PW-004
TITEL: Sekundenanzeige im Tagesplaner entfernen
TYP: UX
PRIORITÃ„T: P2

PROBLEM:
- Ist: Uhrzeit im Tagesplaner zeigt Sekunden.
- Soll: Tagesplaner zeigt nur HH:MM.
- Kontext: Tagesplaner Zeitdarstellung.

SCOPE-FENCE:
- Erlaubt: Nur TimeFormat Utility oder betroffene Komponente. Max 2 Dateien.
- Verboten: Keine Ã„nderungen an anderen Views.

CHANGE-BUDGET: Max 2 Dateien, max 60 Zeilen.

AKZEPTANZ:
- Tagesplaner zeigt keine Sekunden mehr.
- Andere Komponenten bleiben unverÃ¤ndert.




ROLE: Senior Engineer. Minimal Change.

TICKET-ID: PW-005
TITEL: Timer lÃ¤uft bei Background/Screen Sync nicht zuverlÃ¤ssig weiter
TYP: Bug
PRIORITÃ„T: P0
STATUS: âœ… GEFIXT (T16-W3)

PROBLEM:
- Ist: Timer stoppt oder driftet, wenn Tab inaktiv ist oder Screen Sync.
- Soll: Timer basiert auf Timestamps (Startzeit + elapsed) und bleibt korrekt.
- Kontext: Timer/Stoppuhr.

LÃ–SUNG (implementiert):
- Timer verwendet timestamp-basierte Berechnung (nicht Interval-Counting)
- Visibility Change Handler implementiert (recalculates bei Tab-Wechsel)
- localStorage + Supabase Persistenz fÃ¼r Restart-Szenarios
- Betroffene Datei: src/contexts/timer-context.jsx (Zeilen 392-396, 413-422, 652-673)

KEINE AKTION ERFORDERLICH.





ROLE: Senior Engineer. Minimal Change.

TICKET-ID: PW-006
TITEL: Neuer Termin Ã¼bernimmt Uhrzeit des angeklickten Zeitfensters
TYP: UX
PRIORITÃ„T: P1
STATUS: DUPLIKAT von PW-014

PROBLEM:
- Ist: Neuer Termin setzt Uhrzeit nicht passend zum angeklickten Slot.
- Soll: Klick auf Slot setzt Startzeit = Slot Start, Endzeit default = +X Minuten.
- Kontext: Kalender Slot Klick Create Event.

EMPFEHLUNG: PW-006 schlieÃŸen, PW-014 behalten. Identische Root Cause.





ROLE: Senior Engineer. Minimal Change.

TICKET-ID: PW-007
TITEL: Lernblock am konkreten Tag kann kein Rechtsgebiet setzen
TYP: Bug/UX
PRIORITÃ„T: P1

PROBLEM:
- Ist: Beim Erstellen eines Lernblocks am konkreten Tag fehlt Auswahl Rechtsgebiet, daher gleiche Farben.
- Soll: Rechtsgebiet ist wÃ¤hlbar und Farbe basiert darauf.
- Kontext: Lernblock Create Modal / Day View.

SCOPE-FENCE:
- Erlaubt: Nur Lernblock Create UI + Model Binding. Max 3 Dateien.
- Verboten: Kein Umbau des Farbsystems.

CHANGE-BUDGET: Max 3 Dateien, max 120 Zeilen.

AKZEPTANZ:
- Rechtsgebiet kann gesetzt werden.
- Farbcode unterscheidet korrekt.
- Bestehende LernblÃ¶cke bleiben korrekt.





ROLE: Senior Engineer. Minimal Change.

TICKET-ID: PW-008
TITEL: Globale Play/Pause Controls fÃ¼r Stoppuhr
TYP: UX
PRIORITÃ„T: P2

PROBLEM:
- Ist: Play/Pause nur in Timer Ansicht erreichbar.
- Soll: Oben im Header globale Controls (nur fÃ¼r Stoppuhr) sichtbar wenn aktiv.
- Kontext: Header/Navigation.

SCOPE-FENCE:
- Erlaubt: Header Komponente + Timer State Hook. Max 3 Dateien.
- Verboten: Kein Navigation Refactor.

CHANGE-BUDGET: Max 3 Dateien, max 120 Zeilen.

AKZEPTANZ:
- Play/Pause im Header steuert Stoppuhr korrekt.
- Keine Layout Regression in anderen Screens.






ROLE: Senior Engineer. Minimal Change.

TICKET-ID: PW-009
TITEL: Sekundenanzeige bei Stoppuhr anzeigen
TYP: UX
PRIORITÃ„T: P2

PROBLEM:
- Ist: Stoppuhr zeigt keine Sekunden, Bewegung ist schwer erkennbar.
- Soll: Anzeige inkl Sekunden (MM:SS oder HH:MM:SS) nur in Stoppuhr.
- Kontext: Stoppuhr Display.

SCOPE-FENCE:
- Erlaubt: Nur Stoppuhr Anzeige oder TimeFormat lokal. Max 2 Dateien.
- Verboten: Keine globale Time Format Ã„nderung.

CHANGE-BUDGET: Max 2 Dateien, max 60 Zeilen.

AKZEPTANZ:
- Stoppuhr zeigt Sekunden.
- Kalender und Tagesplaner Formate bleiben unverÃ¤ndert.






ROLE: Senior Engineer. Minimal Change.

TICKET-ID: PW-010
TITEL: Wochenansicht Termine ohne Sekunden
TYP: UX
PRIORITÃ„T: P2

PROBLEM:
- Ist: Termine in Wochenansicht zeigen Sekunden.
- Soll: Nur HH:MM.
- Kontext: Wochenansicht Event Render.

SCOPE-FENCE:
- Erlaubt: Nur Wochenansicht Render und lokales Format. Max 2 Dateien.
- Verboten: Keine globale Format Ã„nderung.

CHANGE-BUDGET: Max 2 Dateien, max 60 Zeilen.

AKZEPTANZ:
- Wochenansicht ohne Sekunden.
- Andere Views unverÃ¤ndert.






ROLE: Senior Engineer. Minimal Change.

TICKET-ID: PW-011
TITEL: Morgen Check in erledigt Feld nimmt zu viel Platz ein
TYP: UX
PRIORITÃ„T: P2

PROBLEM:
- Ist: Feld ist zu groÃŸ und verdrÃ¤ngt Inhalte.
- Soll: Kompakter, weniger HÃ¶he, ggf einklappbar.
- Kontext: Startseite.

SCOPE-FENCE:
- Erlaubt: Nur Startseiten Komponente und CSS. Max 2 Dateien.
- Verboten: Kein Redesign Startseite.

CHANGE-BUDGET: Max 2 Dateien, max 80 Zeilen.

AKZEPTANZ:
- Feld ist sichtbar aber kompakter.
- Keine Ãœberlappung oder Layout BrÃ¼che.






ROLE: Senior Engineer. Minimal Change.

TICKET-ID: PW-012
TITEL: GroÃŸer Start Button startet Timer nicht
TYP: Bug
PRIORITÃ„T: P0
STATUS: âœ… GEFIXT

PROBLEM:
- Ist: Start Button oben startet Timer nicht, nur Ã¼ber Einstellungen Klick.
- Soll: Start Button lÃ¶st exakt dieselbe Start Aktion aus wie der funktionierende Weg.
- Kontext: Timer Start CTA.

LÃ–SUNG (implementiert):
- Start Button in ConfiguredIdleState (timer-main-dialog.jsx:910-940)
- Ruft startFromConfig() korrekt auf
- startFromConfig() liest frische Config aus localStorage (BUG-015 Fix)
- Setzt timerState = TIMER_STATES.RUNNING korrekt

KEINE AKTION ERFORDERLICH.






ROLE: Senior Engineer. Minimal Change.

TICKET-ID: PW-013
TITEL: Tagesziel reset und Anzeige "Tagesziel erreicht" korrekt
TYP: Bug
PRIORITÃ„T: P0
STATUS: ðŸŸ¡ TEILWEISE (Reset OK, Display verwirrend)

PROBLEM:
- Ist: Tagesziel resettiert nicht, zeigt Zeit von gestern. Anzeige "Tagesziel erreicht -> 7:54" wirkt wie aktuelle Uhrzeit.
- Soll: Reset tÃ¤glich korrekt. Anzeige zeigt Zeitpunkt des Zielerreichens oder klar benannt.
- Kontext: Tagesziel Tracking.

ANALYSE:
- âœ… Reset funktioniert korrekt (via dateString Ã„nderung bei Mitternacht)
- ðŸ”´ Display "Tagesziel erreicht â†’ 7:54" zeigt AKTUELLE ZEIT, nicht Zielerreichungszeit

ROOT CAUSE: dashboard-sub-header.jsx:136 zeigt currentTime (updates jede Sekunde)

SCOPE-FENCE:
- Erlaubt: dashboard-sub-header.jsx Zeile 136 Ã¤ndern
- Erlaubt: timer-context.jsx secondaryText Berechnung anpassen
- Verboten: Reset-Logik Ã¤ndern (funktioniert bereits)
- Verboten: Neue State-Variablen fÃ¼r "Zielerreichungszeit"

CHANGE-BUDGET: 2 Dateien, max 20 Zeilen.

AKZEPTANZ:
- Anzeige nicht mehr verwirrend
- Reset erfolgt bei Tageswechsel korrekt
- Keine Datenverluste





ROLE: Senior Engineer. Minimal Change.

TICKET-ID: PW-014
TITEL: Slot Klick setzt Uhrzeit fÃ¤lschlich auf 09:00, Drag korrekt
TYP: Bug
PRIORITÃ„T: P0
STATUS: ðŸ”´ OFFEN

PROBLEM:
- Ist: Klick auf Zeitfenster erzeugt Termin mit 09:00. Drag erzeugt korrekte Zeit.
- Soll: Klick Ã¼bernimmt Slot Startzeit, analog zu Drag Default.
- Kontext: Semesterbetrieb Ãœbungsklausur/Klausur auf Startseite.

ROOT CAUSE:
- Click-Handler: Math.floor(y / hourHeight) â†’ rundet auf ganze Stunde
- Drag-Handler: yToTime(y) â†’ 15-Minuten-Snapping

SCOPE-FENCE:
- Erlaubt: week-grid.jsx Click-Handler (Zeile 924-932) anpassen
- Erlaubt: yToTime() Funktion wiederverwenden
- Verboten: Drag-Handler Ã¤ndern
- Verboten: Dialog-Komponenten Ã¤ndern

CHANGE-BUDGET: 1 Datei, max 15 Zeilen.

AKZEPTANZ:
- Klick erzeugt Termin mit korrekter Startzeit (15-Min-PrÃ¤zision).
- Drag bleibt unverÃ¤ndert.
- Keine Ã„nderung anderer Default Zeiten.







ROLE: Senior Engineer. Minimal Change.

TICKET-ID: PW-015
TITEL: Themenplan Erstellung Ã¼ber Screenshot
TYP: Feature
PRIORITÃ„T: P2

PROBLEM:
- Ist: Kein Weg, aus Screenshot einen Themenplan zu erzeugen.
- Soll: MVP: Upload Screenshot -> extrahiere Text -> erstelle Themenliste -> Nutzer kann bearbeiten -> speichern.
- Kontext: Themenplan.

SCOPE-FENCE:
- Erlaubt: Nur neuer kleiner Flow als MVP in bestehenden Feature Struktur. Max 5 Dateien.
- Verboten: Kein komplettes Redesign Themenplan, keine neue Architektur.

CHANGE-BUDGET: Max 5 Dateien, max 250 Zeilen.

VORGEHEN:
1) Vorschlag fÃ¼r kleinsten MVP.
2) Implementiere nur MVP.
3) Manuelle Tests.

AKZEPTANZ:
- Screenshot Upload mÃ¶glich.
- Ergebnis als editierbare Liste.
- Speichern funktioniert.




================================================================================
                        P0 ZUSAMMENFASSUNG (27.01.2026)
================================================================================

STATUS-LEGENDE:
  âœ… GEFIXT     - Bug wurde bereits behoben
  ðŸ”´ OFFEN      - Bug existiert noch
  ðŸŸ¡ TEILWEISE  - Teilweise behoben, Rest offen

| Ticket | Status | Aufwand | PrioritÃ¤t |
|--------|--------|---------|-----------|
| PW-001 | ðŸ”´ OFFEN | 1 Datei, 10 Zeilen | P0 |
| PW-002 | ðŸ”´ OFFEN | 2 Dateien, 50 Zeilen | P0 |
| PW-005 | âœ… GEFIXT | - | - |
| PW-006 | DUPLIKAT | â†’ PW-014 | - |
| PW-012 | âœ… GEFIXT | - | - |
| PW-013 | ðŸŸ¡ TEILWEISE | 2 Dateien, 20 Zeilen | P0 |
| PW-014 | ðŸ”´ OFFEN | 1 Datei, 15 Zeilen | P0 |

EMPFOHLENE REIHENFOLGE:
1. PW-001 (Quick Fix, 10 Zeilen)
2. PW-014 (Quick Fix, 15 Zeilen)
3. PW-013 (Quick Fix, 20 Zeilen)
4. PW-002 (Architektur, 50 Zeilen)
